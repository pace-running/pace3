{% extends "includes/base.html" %} {% block title %}Join{% endblock title %} {%
block content %} {% raw %}
<script src="/static/js/petite-vue.js" defer init></script>

<h1>Anmeldung</h1>
<p>Persönliche Angaben</p>
<form
  action="submit"
  method="post"
  v-scope="{confirm_checked: false, tshirt_checked: false}"
>
  <input
    type="text"
    name="firstname"
    placeholder="Vorname (erscheint auf Startnummer)"
  />
  <input type="text" name="lastname" placeholder="Nachname" />
  <input
    type="text"
    name="team"
    placeholder="Teamname (erscheint auf Startnummer)"
  />
  <input type="text" name="email" placeholder="E-Mail" />
  <input type="text" name="repeat" placeholder="E-Mail wiederholen" />

  <label for="starting_point">Von wo wirst du laufen?:</label>
  <select name="starting_point">
    <option value="null" style="display: none">Bitte auswählen</option>
    <option value="hamburg">in Hamburg bei der Alster vor Ort</option>
    <option value="other">woanders</option></select
  ><br />

  <label for="running_level">Wie schätzt du dein Laufniveau ein?:</label>
  <select name="running_level">
    <option value="null" style="display: none">Bitte auswählen</option>
    <option value="rarely">Ich laufe selten</option>
    <option value="sometimes">Ich laufe gelegentlich bis regelmäßig</option>
    <option value="often">Ich laufe häufig und ambitioniert</option></select
  ><br />

  <label for="donation">Ich möchte spenden (mindestens 5€):</label>
  <input
    type="text"
    name="donation"
    placeholder="Ich möchte spenden (mindestens 5€)"
    value="10"
  /><br />

  <h2>Fan T-shirt</h2>

  <label>
    <input
      type="checkbox"
      id="tshirt"
      name="tshirt_toggle"
      v-model="tshirt_checked"
    />
    <span class="checkable small">Ich möchte ein T-Shirt</span>
  </label>
  <br />

  <template v-if="tshirt_checked === true">
    <label for="tshirt_model">Modell</label>
    <select name="tshirt_model" id="model_selector">
      <option value="null" style="display: none">Bitte auswählen</option>
      <option value="unisex">Unisex</option>
      <option value="slimfit">Talliert</option></select
    ><br />
    <script>
    document.getElementById('model_selector').addEventListener('change',function(){
      if(document.getElementById('model_selector').value === 'unisex') {
        document.getElementById('xxl_selector').hidden = false;
      } else {
        document.getElementById('xxl_selector').hidden = true;
        if(document.getElementById('size_selector').value === 'xxl'){
          document.getElementById('size_selector').value = 'xl';
        }
      }
    });
    </script>


      <label for="tshirt_size">Größe</label>
      <select name="tshirt_size" id="size_selector">
        <option value="null" style="display: none">Bitte auswählen</option>
        <option value="s">S</option>
        <option value="m">M</option>
        <option value="l">L</option>
        <option value="xl">XL</option>
        <option value="xxl" id="xxl_selector" hidden>XXL</option>
      </select>
        <br />

    <h3>Lieferanschrift</h3>

    <input
      type="text"
      name="country"
      placeholder="Land"
      default="Deutschland"
    /><br />
    <input type="text" name="address_firstname" placeholder="Vorname" /><br />
    <input type="text" name="address_lastname" placeholder="Nachname" /><br />
    <input type="text" name="street_name" placeholder="Straße" />
    <input type="text" name="house_number" placeholder="Hausnummer" /><br />
    <input type="text" name="address_extra" placeholder="Adresszusatz" /><br />
    <input type="text" name="postal_code" placeholder="PLZ" />
    <input type="text" name="city" placeholder="Stadt" /><br /> </template
  ><br />

  <!-- Hidden inputs, so form will be accepted even if no Tshirt ordered -->
  <template v-if="tshirt_checked == false">
    <input type="hidden" name="tshirt_toggle" value="" />
    <input type="hidden" name="tshirt_model" value="" />
    <input type="hidden" name="tshirt_size" value="" />
    <input type="hidden" name="country" value="" />
    <input type="hidden" name="address_firstname" value="" />
    <input type="hidden" name="address_lastname" value="" />
    <input type="hidden" name="street_name" value="" />
    <input type="hidden" name="house_number" value="" />
    <input type="hidden" name="address_extra" value="" />
    <input type="hidden" name="postal_code" value="" />
    <input type="hidden" name="city" value="" />
  </template>

  <label>
    <input type="checkbox" name="confirm" v-model="confirm_checked" />
    <span class="checkable small"
      >Mir ist bewusst, dass die Datenverarbeitung entsprechend der
      <a class="link" href="/privacy_notice" target="_blank">Datenschutzbestimmungen</a> der
      Website lauf-gegen-rechts.de erfolgt. Ich weiß, dass meine Einwilligung
      bezüglich der Verarbeitung meiner Daten (Vorname, Nachname, E-Mail,
      Teamname freiwillig ist und ich sie jederzeit widerrufen kann.</span
    >
  </label>
  <br />
  <button type="submit" :disabled="confirm_checked == false">Weiter</button>
</form>

{% endraw %} {% endblock content %}
